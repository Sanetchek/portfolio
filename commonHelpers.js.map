{"version":3,"file":"commonHelpers.js","sources":["../src/js/header.js","../src/js/projects.js","../src/js/work-together.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  const modeSwitcherBtn = document.getElementById('mode-switcher');\n\n  if (modeSwitcherBtn) {\n    // Site Color Mode Switcher\n    const switchColorModeHandler = event => {\n      event.preventDefault();\n      document.body.classList.toggle('dark');\n      const mode = document.body.classList.contains('dark') ? 'dark' : 'light';\n      localStorage.setItem('color-mode', mode);\n    };\n\n    // Events\n    modeSwitcherBtn.addEventListener('click', switchColorModeHandler);\n  }\n\n  // Hide Loader when Page is load\n  const onPageLoad = () => {\n    var loaderOverlay = document.querySelector('.loader-overlay');\n    if (loaderOverlay) {\n      loaderOverlay.classList.add('is-hidden');\n    }\n  };\n\n  onPageLoad();\n});\n","import axios from 'axios';\n\n// Function to fetch projects from json file\nconst fetchProjects = async filePath => {\n  const response = await axios.get(filePath);\n  return response.data;\n};\n\n// Define DOM elements\nconst listEl = document.querySelector('.js-my-projects-list');\nconst loadMoreEl = document.querySelector('.js-my-projects-load-more');\nconst loadMoreBtnEl = document.querySelector('.js-my-projects-load-more-btn');\nconst lastProjectItemSelector = '.js-my-projects-list-item:last-child';\n\n// Define initial variables\nconst projectsJsonFilePath = './my-projects.json';\nconst perPage = 3;\nlet currentPageNum = 0;\nlet lastGalleryItemEl = getLastProjectsItemEL();\nlet isNoProjectsToLoad = false;\nlet projectsArr = [];\n\n// Define listeners\nconst onLoadMoreBtnClick = async () => {\n\n  // To fetch projects once instead if each time on click\n  if (projectsArr.length === 0) {\n    try {\n      projectsArr = await fetchProjects(projectsJsonFilePath);\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n\n  const projectsToLoad = getProjects(projectsArr);\n\n  if (!projectsToLoad || projectsToLoad.length === 0) {\n    hideLoadMore();\n    return;\n  }\n\n  const markup = createProjectItem(projectsToLoad);\n\n  listEl.insertAdjacentHTML('beforeend', markup);\n\n  // Need to correct getBoundingClientRect calculation after insertAdjacentHTML\n  setTimeout(function() {\n\n    window.scrollBy({\n      top: lastGalleryItemEl.getBoundingClientRect().bottom,\n      left: 0,\n      behavior: 'smooth',\n    });\n\n    lastGalleryItemEl = getLastProjectsItemEL();\n\n  }, 50);\n\n\n  if (projectsToLoad.length < perPage) {\n    isNoProjectsToLoad = true;\n  }\n\n  if (isNoProjectsToLoad) {\n    hideLoadMore();\n  }\n};\n\n// Add listeners\nloadMoreBtnEl.addEventListener('click', onLoadMoreBtnClick);\n\n// Common functions\nfunction getLastProjectsItemEL() {\n  return listEl.querySelector(lastProjectItemSelector);\n}\n\nfunction getProjects(projectsObj) {\n  let projects = projectsObj.filter(\n    ({ pageNum }) => pageNum === currentPageNum,\n  );\n  if (projects.length === 0) return false;\n  currentPageNum += 1;\n  return projects;\n}\n\nfunction createProjectItem(projects) {\n  return projects\n    .map(\n      ({ name, number, stack, link }) => `\n    <li class=\"my-projects-list-item js-my-projects-list-item\">\n      <img\n        class=\"my-projects-img\"\n        srcset=\"\n            ./img/my-projects/my-projects-img--mobile--${ number }.jpg 320w,\n            ./img/my-projects/my-projects-img--mobile--${ number }@2x.jpg 640w,\n            ./img/my-projects/my-projects-img--tablet--${ number }.jpg 704w,\n            ./img/my-projects/my-projects-img--tablet--${ number }@2x.jpg 1408w,\n            ./img/my-projects/my-projects-img--desktop--${ number }.jpg 1008w,\n            ./img/my-projects/my-projects-img--desktop--${ number }@2x.jpg 2016w\n          \"\n        sizes=\"(min-width: 1280px) 1008px, (min-width: 768px) 704px, (min-width: 360px) 320px, (max-width: 359px) calc(100vw - 40px)\"\n        src=\"./img/my-projects/my-projects-img--mobile--${ number }.jpg\"\n        alt=\"${ name }\"\n        width=\"320\"\n      />\n      <div class=\"my-projects-stack\">${ stack }</div>\n      <div class=\"my-projects-name-link\">\n        <h3 class=\"my-projects-name\">${ name }</h3>\n        <a class=\"my-projects-link\" href=\"${ link }\" target=\"_blank\">\n          Visit\n          <svg class=\"my-projects-link-icon icon-arrow-up-right\" width=\"24\" height=\"24\">\n            <use href=\"./img/sprite.svg#icon-arrow-up-right\"></use>\n          </svg>\n        </a>\n      </div>\n    </li>`,\n    )\n    .join('');\n}\n\nfunction hideLoadMore() {\n  loadMoreEl.classList.add('is-hidden');\n}\n","import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Settings\naxios.defaults.baseURL = 'https://portfolio-js.b.goit.study/api';\n\n// Variables\nconst contactFormEl = document.getElementById('contact_form');\nconst customerEmailEl = document.getElementById('customer_email');\nconst contactsModal = document.getElementById('modal');\nconst contactsModalCloseBtn = contactsModal.querySelector('.modal-close-btn');\n\n// Email field validation\nconst onEmailInput = (event) => {\n  const email = event.target;\n  const errorMessage = document.getElementById('error_message');\n  const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n\n  if (!emailPattern.test(email.value)) {\n    errorMessage.textContent = 'Invalid email, try again.';\n    email.classList.add('input-error'); // Optional: Add a class for styling errors\n  } else {\n    errorMessage.textContent = '';\n    email.classList.remove('input-error'); // Optional: Remove error class if valid\n  }\n}\n\n// Submit Contact Form Handler\nconst onContactFormSubmit = (event) => {\n  event.preventDefault();\n  const form = event.currentTarget;\n  const formElements = form.elements;\n  const email = formElements.customer_email.value.trim();\n  const comment = formElements.customer_message.value.trim();\n  const params = {\n    email,\n    comment\n  };\n\n  axios.post('/requests', params)\n    .then((response) => {\n      const { title, message } = response.data;\n      contactsModal.querySelector('.modal-title').innerHTML = title;\n      contactsModal.querySelector('.modal-message').innerHTML = message;\n\n      modalOpen();\n      form.reset();\n    })\n    .catch((error) => {\n      iziToast.error({\n        message: error.message,\n      })\n    });\n}\n\n// Events\ncustomerEmailEl.addEventListener('blur', onEmailInput);\ncontactFormEl.addEventListener('submit', onContactFormSubmit);\n\n// Modal Events\ncontactsModalCloseBtn.addEventListener('click', modalClose);\nwindow.addEventListener('click', (event) => {\n  if (event.target == contactsModal) {\n    modalClose();\n  }\n});\n\n// Modal Open function\nfunction modalOpen() {\n  contactsModal.classList.add('is-open');\n  document.body.style.overflow = 'hidden';\n}\n\n// Modal Close function\nfunction modalClose() {\n  contactsModal.classList.remove('is-open');\n  document.body.style.overflow = '';\n}\n\n"],"names":["modeSwitcherBtn","switchColorModeHandler","event","mode","loaderOverlay","fetchProjects","filePath","axios","listEl","loadMoreEl","loadMoreBtnEl","lastProjectItemSelector","projectsJsonFilePath","perPage","currentPageNum","lastGalleryItemEl","getLastProjectsItemEL","isNoProjectsToLoad","projectsArr","onLoadMoreBtnClick","error","projectsToLoad","getProjects","hideLoadMore","markup","createProjectItem","projectsObj","projects","pageNum","name","number","stack","link","contactFormEl","customerEmailEl","contactsModal","contactsModalCloseBtn","onEmailInput","email","errorMessage","onContactFormSubmit","form","formElements","comment","params","response","title","message","modalOpen","iziToast","modalClose"],"mappings":"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"}